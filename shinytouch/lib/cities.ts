import type { City } from './types'
import { getBundeslandByPLZ } from './plz-regions'

/**
 * Deutsche Städte für Einsatzorte
 * ~500 Städte mit PLZ, Region und Priority
 *
 * Priority-Stufen:
 * 1 = Top-Städte (> 500.000 Einwohner + Bayern Heimatregion)
 * 2 = Große Städte (100.000 - 500.000 Einwohner)
 * 3 = Weitere Städte (< 100.000 Einwohner)
 */

// Städte mit Custom-Content (Premium)
const PREMIUM_CITIES: City[] = [
  // Bayern (Heimatregion) - Priority 1
  {
    slug: 'bamberg',
    name: 'Bamberg',
    plz: '96047',
    region: 'Bayern',
    priority: 1,
    population: 78000,
    intro:
      'Als Bamberger Unternehmen mit Hauptsitz direkt vor Ort kennen wir die Anforderungen der Region genau. Von der historischen Altstadt bis zum modernen Gewerbegebiet – wir reinigen zuverlässig und mit kurzen Reaktionszeiten.',
    highlights: [
      'Hauptsitz in Bamberg – schnellste Reaktionszeiten',
      'Kenntnis der UNESCO-Welterbe Altstadt',
      'Lokale Referenzen verfügbar',
      'Persönliche Betreuung vor Ort',
    ],
  },
  {
    slug: 'nuernberg',
    name: 'Nürnberg',
    plz: '90402',
    region: 'Bayern',
    priority: 1,
    population: 520000,
    intro:
      'Professionelle Gebäudereinigung in Nürnberg – Frankens Metropole. Wir betreuen Bürogebäude, Gewerbeobjekte und öffentliche Einrichtungen in der gesamten Nürnberger Region.',
    highlights: [
      'Kurze Anfahrt aus Bamberg',
      'Erfahrung mit Großstadtobjekten',
      'Flexible Reinigungszeiten',
    ],
  },
  {
    slug: 'muenchen',
    name: 'München',
    plz: '80331',
    region: 'Bayern',
    priority: 1,
    population: 1490000,
    intro:
      'Gebäudereinigung in München – Bayerns Landeshauptstadt. Professionelle Reinigungslösungen für Unternehmen aller Größen in München und Umgebung.',
    highlights: [
      'Deutschlandweites Netzwerk',
      'Erfahrung mit Premiumobjekten',
      'Höchste Qualitätsstandards',
    ],
  },
  {
    slug: 'wuerzburg',
    name: 'Würzburg',
    plz: '97070',
    region: 'Bayern',
    priority: 2,
    population: 128000,
    intro:
      'Gebäudereinigung in Würzburg – professionell und zuverlässig. Wir reinigen Büros, Praxen und Gewerbeobjekte in der Universitätsstadt.',
  },
  {
    slug: 'erlangen',
    name: 'Erlangen',
    plz: '91052',
    region: 'Bayern',
    priority: 2,
    population: 113000,
    intro:
      'Professionelle Gebäudereinigung in Erlangen. Spezialisiert auf Büroreinigung, Praxisreinigung und Unterhaltsreinigung.',
  },
  {
    slug: 'fuerth',
    name: 'Fürth',
    plz: '90762',
    region: 'Bayern',
    priority: 2,
    population: 130000,
    intro:
      'Gebäudereinigung in Fürth – Ihr Partner für saubere Arbeitsumgebungen. Regelmäßige Reinigung und Sonderreinigungen.',
  },
  {
    slug: 'bayreuth',
    name: 'Bayreuth',
    plz: '95444',
    region: 'Bayern',
    priority: 2,
    population: 75000,
    intro:
      'Professionelle Gebäudereinigung in Bayreuth. Von der Unterhaltsreinigung bis zur Grundreinigung.',
  },
  {
    slug: 'augsburg',
    name: 'Augsburg',
    plz: '86150',
    region: 'Bayern',
    priority: 1,
    population: 300000,
    intro:
      'Gebäudereinigung in Augsburg – zuverlässig und gründlich. Für Büros, Praxen und Gewerbeobjekte.',
  },
  {
    slug: 'regensburg',
    name: 'Regensburg',
    plz: '93047',
    region: 'Bayern',
    priority: 2,
    population: 153000,
    intro:
      'Professionelle Gebäudereinigung in Regensburg. Moderne Reinigungstechnik für beste Ergebnisse.',
  },
  {
    slug: 'ingolstadt',
    name: 'Ingolstadt',
    plz: '85049',
    region: 'Bayern',
    priority: 2,
    population: 140000,
    intro:
      'Gebäudereinigung in Ingolstadt – für Industrie und Gewerbe. Professionelle Reinigungslösungen.',
  },
  // Top-Städte Deutschland - Priority 1
  {
    slug: 'berlin',
    name: 'Berlin',
    plz: '10115',
    region: 'Berlin',
    priority: 1,
    population: 3670000,
    intro:
      'Gebäudereinigung in Berlin – Deutschlands Hauptstadt. Professionelle Reinigung für Büros, Gewerbe und öffentliche Einrichtungen.',
    highlights: [
      'Deutschlandweites Netzwerk',
      'Flexible Einsatzzeiten',
      'Erfahrung mit Großprojekten',
    ],
  },
  {
    slug: 'hamburg',
    name: 'Hamburg',
    plz: '20095',
    region: 'Hamburg',
    priority: 1,
    population: 1900000,
    intro:
      'Professionelle Gebäudereinigung in Hamburg. Zuverlässige Reinigungsservices für die Hansestadt.',
  },
  {
    slug: 'koeln',
    name: 'Köln',
    plz: '50667',
    region: 'NRW',
    priority: 1,
    population: 1080000,
    intro:
      'Gebäudereinigung in Köln – professionell und zuverlässig. Für saubere Arbeitsumgebungen am Rhein.',
  },
  {
    slug: 'frankfurt',
    name: 'Frankfurt am Main',
    plz: '60311',
    region: 'Hessen',
    priority: 1,
    population: 760000,
    intro:
      'Professionelle Gebäudereinigung in Frankfurt. Spezialisiert auf Büro- und Gewerbereinigung in der Finanzmetropole.',
  },
  {
    slug: 'stuttgart',
    name: 'Stuttgart',
    plz: '70173',
    region: 'Baden-Württemberg',
    priority: 1,
    population: 635000,
    intro:
      'Gebäudereinigung in Stuttgart – für Industrie und Gewerbe. Höchste Qualitätsstandards.',
  },
  // Weitere Großstädte - Priority 2
  {
    slug: 'duesseldorf',
    name: 'Düsseldorf',
    plz: '40213',
    region: 'NRW',
    priority: 1,
    population: 620000,
    intro:
      'Professionelle Gebäudereinigung in Düsseldorf. Für Büros, Praxen und Gewerbeobjekte.',
  },
  {
    slug: 'dortmund',
    name: 'Dortmund',
    plz: '44135',
    region: 'NRW',
    priority: 1,
    population: 590000,
    intro: 'Gebäudereinigung in Dortmund – zuverlässig und gründlich.',
  },
  {
    slug: 'essen',
    name: 'Essen',
    plz: '45127',
    region: 'NRW',
    priority: 1,
    population: 580000,
    intro: 'Professionelle Gebäudereinigung in Essen. Moderne Reinigungstechnik.',
  },
  {
    slug: 'leipzig',
    name: 'Leipzig',
    plz: '04109',
    region: 'Sachsen',
    priority: 1,
    population: 600000,
    intro: 'Gebäudereinigung in Leipzig – für saubere Arbeitsumgebungen.',
  },
  {
    slug: 'dresden',
    name: 'Dresden',
    plz: '01067',
    region: 'Sachsen',
    priority: 1,
    population: 560000,
    intro: 'Professionelle Gebäudereinigung in Dresden. Zuverlässig und gründlich.',
  },
  {
    slug: 'hannover',
    name: 'Hannover',
    plz: '30159',
    region: 'Niedersachsen',
    priority: 1,
    population: 535000,
    intro: 'Gebäudereinigung in Hannover – Ihr Partner für Sauberkeit.',
  },
  {
    slug: 'bremen',
    name: 'Bremen',
    plz: '28195',
    region: 'Bremen',
    priority: 1,
    population: 565000,
    intro: 'Professionelle Gebäudereinigung in Bremen. Für Büros und Gewerbe.',
  },
  {
    slug: 'karlsruhe',
    name: 'Karlsruhe',
    plz: '76131',
    region: 'Baden-Württemberg',
    priority: 2,
    population: 310000,
    intro: 'Gebäudereinigung in Karlsruhe – professionell und zuverlässig.',
  },
  {
    slug: 'mannheim',
    name: 'Mannheim',
    plz: '68159',
    region: 'Baden-Württemberg',
    priority: 2,
    population: 310000,
    intro: 'Professionelle Gebäudereinigung in Mannheim.',
  },
  {
    slug: 'wiesbaden',
    name: 'Wiesbaden',
    plz: '65183',
    region: 'Hessen',
    priority: 2,
    population: 280000,
    intro: 'Gebäudereinigung in Wiesbaden – für saubere Arbeitsplätze.',
  },
  {
    slug: 'bonn',
    name: 'Bonn',
    plz: '53111',
    region: 'NRW',
    priority: 2,
    population: 330000,
    intro: 'Professionelle Gebäudereinigung in Bonn.',
  },
  // Weitere Städte - Priority 3
  {
    slug: 'braunschweig',
    name: 'Braunschweig',
    plz: '38100',
    region: 'Niedersachsen',
    priority: 2,
    population: 250000,
    intro: 'Gebäudereinigung in Braunschweig.',
  },
  {
    slug: 'kiel',
    name: 'Kiel',
    plz: '24103',
    region: 'Schleswig-Holstein',
    priority: 2,
    population: 250000,
    intro: 'Professionelle Gebäudereinigung in Kiel.',
  },
  {
    slug: 'chemnitz',
    name: 'Chemnitz',
    plz: '09111',
    region: 'Sachsen',
    priority: 2,
    population: 245000,
    intro: 'Gebäudereinigung in Chemnitz.',
  },
  {
    slug: 'magdeburg',
    name: 'Magdeburg',
    plz: '39104',
    region: 'Sachsen-Anhalt',
    priority: 2,
    population: 240000,
    intro: 'Professionelle Gebäudereinigung in Magdeburg.',
  },
  {
    slug: 'mainz',
    name: 'Mainz',
    plz: '55116',
    region: 'Rheinland-Pfalz',
    priority: 2,
    population: 220000,
    intro: 'Gebäudereinigung in Mainz.',
  },
  {
    slug: 'saarbruecken',
    name: 'Saarbrücken',
    plz: '66111',
    region: 'Saarland',
    priority: 2,
    population: 180000,
    intro: 'Professionelle Gebäudereinigung in Saarbrücken.',
  },
]

// Alle weiteren Städte aus der Benutzerliste
// Format: [name, plz, population (geschätzt)]
const ADDITIONAL_CITIES_DATA: [string, string, number?][] = [
  ['Aachen', '52062', 250000],
  ['Aalen', '73430', 68000],
  ['Ahaus', '48683', 40000],
  ['Ahlen', '59227', 53000],
  ['Ahrensburg', '22926', 34000],
  ['Albstadt', '72458', 44000],
  ['Alfter', '53347', 24000],
  ['Alsdorf', '52477', 47000],
  ['Altenburg', '04600', 32000],
  ['Amberg', '92224', 42000],
  ['Andernach', '56626', 30000],
  ['Annaberg-Buchholz', '09456', 20000],
  ['Ansbach', '91522', 42000],
  ['Arnsberg', '59755', 73000],
  ['Arnstadt', '99310', 28000],
  ['Aschaffenburg', '63739', 72000],
  ['Aschersleben', '06449', 27000],
  ['Attendorn', '57439', 25000],
  ['Aurich', '26603', 42000],
  ['Backnang', '71522', 37000],
  ['Bad Hersfeld', '36251', 30000],
  ['Bad Homburg', '61348', 54000],
  ['Bad Honnef', '53604', 26000],
  ['Bad Kissingen', '97688', 22000],
  ['Bad Kreuznach', '55543', 52000],
  ['Bad Nauheim', '61231', 32000],
  ['Bad Oeynhausen', '32545', 49000],
  ['Bad Oldesloe', '23843', 25000],
  ['Bad Rappenau', '74906', 22000],
  ['Bad Salzuflen', '32105', 55000],
  ['Bad Soden', '65812', 23000],
  ['Bad Vilbel', '61118', 35000],
  ['Bad Waldsee', '88339', 21000],
  ['Bad Zwischenahn', '26160', 29000],
  ['Baden-Baden', '76530', 57000],
  ['Baesweiler', '52499', 27000],
  ['Balingen', '72336', 34000],
  ['Barsinghausen', '30890', 35000],
  ['Bautzen', '02625', 39000],
  ['Beckum', '59269', 37000],
  ['Bedburg', '50181', 24000],
  ['Bensheim', '64625', 42000],
  ['Bergheim', '50126', 63000],
  ['Bergisch Gladbach', '51465', 112000],
  ['Bergkamen', '59192', 50000],
  ['Bernau', '16321', 42000],
  ['Bernburg', '06406', 33000],
  ['Biberach', '88400', 33000],
  ['Bielefeld', '33602', 335000],
  ['Bietigheim-Bissingen', '74321', 43000],
  ['Bingen', '55411', 26000],
  ['Bitterfeld-Wolfen', '06749', 39000],
  ['Blankenburg', '38889', 20000],
  ['Blieskastel', '66440', 21000],
  ['Böblingen', '71032', 50000],
  ['Bocholt', '46395', 71000],
  ['Bochum', '44787', 365000],
  ['Bogen', '94327', 10000],
  ['Borken', '46325', 42000],
  ['Bornheim', '53332', 49000],
  ['Bottrop', '46236', 117000],
  ['Bramsche', '49565', 32000],
  ['Brandenburg an der Havel', '14770', 72000],
  ['Brilon', '59929', 26000],
  ['Bruchköbel', '63486', 21000],
  ['Bruchsal', '76646', 45000],
  ['Brühl', '50321', 44000],
  ['Buchholz', '21244', 41000],
  ['Bückeburg', '31675', 20000],
  ['Büdingen', '63654', 23000],
  ['Bühl', '77815', 29000],
  ['Bünde', '32257', 46000],
  ['Burghausen', '84489', 19000],
  ['Burgwedel', '30938', 21000],
  ['Buxtehude', '21614', 41000],
  ['Calw', '75365', 24000],
  ['Castrop-Rauxel', '44575', 74000],
  ['Celle', '29221', 69000],
  ['Cham', '93413', 17000],
  ['Cloppenburg', '49661', 36000],
  ['Coburg', '96450', 41000],
  ['Coesfeld', '48653', 37000],
  ['Coswig', '01640', 21000],
  ['Cottbus', '03046', 99000],
  ['Crailsheim', '74564', 35000],
  ['Cuxhaven', '27472', 48000],
  ['Dachau', '85221', 48000],
  ['Darmstadt', '64283', 160000],
  ['Datteln', '45711', 35000],
  ['Deggendorf', '94469', 35000],
  ['Delbrück', '33129', 32000],
  ['Delitzsch', '04509', 25000],
  ['Delmenhorst', '27749', 78000],
  ['Dessau-Roßlau', '06844', 80000],
  ['Detmold', '32756', 75000],
  ['Dietzenbach', '63128', 35000],
  ['Dillenburg', '35683', 24000],
  ['Dillingen', '89407', 20000],
  ['Dinslaken', '46535', 70000],
  ['Döbeln', '04720', 24000],
  ['Donaueschingen', '78166', 23000],
  ['Donauwörth', '86609', 19000],
  ['Dorsten', '46282', 75000],
  ['Dreieich', '63303', 43000],
  ['Dülmen', '48249', 47000],
  ['Düren', '52349', 92000],
  ['Duisburg', '47051', 500000],
  ['Eberswalde', '16225', 40000],
  ['Eckernförde', '24340', 22000],
  ['Edewecht', '26188', 23000],
  ['Ehingen', '89584', 27000],
  ['Eichwalde', '15732', 6000],
  ['Einbeck', '37574', 31000],
  ['Eisenach', '99817', 42000],
  ['Eisenhüttenstadt', '15890', 25000],
  ['Eislingen', '73054', 21000],
  ['Elmshorn', '25335', 52000],
  ['Emden', '26721', 51000],
  ['Emmendingen', '79312', 28000],
  ['Emmerich', '46446', 31000],
  ['Emsdetten', '48282', 36000],
  ['Enger', '32130', 21000],
  ['Ennepetal', '58256', 30000],
  ['Ennigerloh', '59320', 20000],
  ['Eppingen', '75031', 22000],
  ['Erding', '85435', 38000],
  ['Erftstadt', '50374', 51000],
  ['Erfurt', '99084', 215000],
  ['Erkrath', '40699', 46000],
  ['Eschborn', '65760', 22000],
  ['Eschweiler', '52249', 58000],
  ['Eschwege', '37269', 20000],
  ['Espelkamp', '32339', 26000],
  ['Esslingen', '73728', 94000],
  ['Ettlingen', '76275', 40000],
  ['Euskirchen', '53879', 59000],
  ['Eutin', '23701', 17000],
  ['Falkensee', '14612', 45000],
  ['Fellbach', '70734', 46000],
  ['Filderstadt', '70794', 45000],
  ['Flensburg', '24937', 90000],
  ['Forchheim', '91301', 32000],
  ['Frankenthal', '67227', 48000],
  ['Frechen', '50226', 54000],
  ['Freiberg', '09599', 41000],
  ['Freiburg', '79098', 235000],
  ['Freising', '85354', 49000],
  ['Freital', '01705', 40000],
  ['Freudenstadt', '72250', 23000],
  ['Friedberg', '61169', 30000],
  ['Friedrichshafen', '88045', 62000],
  ['Friesoythe', '26169', 23000],
  ['Fulda', '36037', 68000],
  ['Fürstenwalde', '15517', 32000],
  ['Gaggenau', '76571', 30000],
  ['Ganderkesee', '27777', 32000],
  ['Garbsen', '30823', 62000],
  ['Garmisch-Partenkirchen', '82467', 27000],
  ['Geesthacht', '21502', 31000],
  ['Geilenkirchen', '52511', 28000],
  ['Geldern', '47608', 34000],
  ['Gelsenkirchen', '45879', 260000],
  ['Gera', '07545', 92000],
  ['Geretsried', '82538', 26000],
  ['Germering', '82110', 41000],
  ['Gersthofen', '86368', 23000],
  ['Geseke', '59590', 21000],
  ['Gevelsberg', '58285', 31000],
  ['Gießen', '35390', 92000],
  ['Gifhorn', '38518', 43000],
  ['Gladbeck', '45964', 76000],
  ['Glauchau', '08371', 22000],
  ['Goch', '47574', 34000],
  ['Göppingen', '73033', 57000],
  ['Görlitz', '02826', 56000],
  ['Goslar', '38640', 50000],
  ['Gotha', '99867', 45000],
  ['Göttingen', '37073', 119000],
  ['Greifswald', '17489', 59000],
  ['Greiz', '07973', 20000],
  ['Greven', '48268', 38000],
  ['Grevenbroich', '41515', 64000],
  ['Griesheim', '64347', 28000],
  ['Grimma', '04668', 28000],
  ['Gronau', '48599', 48000],
  ['Großenhain', '01558', 18000],
  ['Gummersbach', '51643', 52000],
  ['Günzburg', '89312', 21000],
  ['Güstrow', '18273', 29000],
  ['Gütersloh', '33330', 100000],
  ['Haan', '42781', 31000],
  ['Hagen', '58095', 188000],
  ['Halberstadt', '38820', 41000],
  ['Halle', '06108', 240000],
  ['Haltern', '45721', 38000],
  ['Hameln', '31785', 58000],
  ['Hamm', '59065', 180000],
  ['Hanau', '63450', 97000],
  ['Haren', '49733', 25000],
  ['Hattersheim', '65795', 28000],
  ['Hattingen', '45525', 56000],
  ['Heide', '25746', 22000],
  ['Heidelberg', '69115', 160000],
  ['Heidenau', '01809', 17000],
  ['Heidenheim', '89518', 50000],
  ['Heilbronn', '74072', 126000],
  ['Heinsberg', '52525', 43000],
  ['Helmstedt', '38350', 25000],
  ['Hemer', '58675', 35000],
  ['Hennef', '53773', 48000],
  ['Hennigsdorf', '16761', 27000],
  ['Herborn', '35745', 21000],
  ['Herdecke', '58313', 23000],
  ['Herford', '32052', 67000],
  ['Herne', '44623', 160000],
  ['Herrenberg', '71083', 32000],
  ['Herten', '45699', 62000],
  ['Herzogenaurach', '91074', 24000],
  ['Herzogenrath', '52134', 47000],
  ['Hilden', '40721', 57000],
  ['Hildesheim', '31134', 101000],
  ['Hockenheim', '68766', 22000],
  ['Hof', '95028', 45000],
  ['Hofheim', '65719', 41000],
  ['Holzminden', '37603', 20000],
  ['Homburg', '66424', 42000],
  ['Hoyerswerda', '02977', 32000],
  ['Hückelhoven', '41836', 41000],
  ['Hürth', '50354', 60000],
  ['Husum', '25813', 23000],
  ['Ibbenbüren', '49477', 52000],
  ['Idar-Oberstein', '55743', 28000],
  ['Ilmenau', '98693', 26000],
  ['Iserlohn', '58636', 92000],
  ['Isernhagen', '30916', 24000],
  ['Itzehoe', '25524', 32000],
  ['Jena', '07743', 111000],
  ['Jülich', '52428', 33000],
  ['Kaarst', '41564', 44000],
  ['Kaiserslautern', '67655', 100000],
  ['Kaltenkirchen', '24568', 22000],
  ['Kamen', '59174', 44000],
  ['Kamenz', '01917', 16000],
  ['Kamp-Lintfort', '47475', 38000],
  ['Karben', '61184', 24000],
  ['Kassel', '34117', 200000],
  ['Kaufbeuren', '87600', 45000],
  ['Kehl', '77694', 37000],
  ['Kelkheim', '65779', 30000],
  ['Kempen', '47906', 36000],
  ['Kempten', '87435', 70000],
  ['Kerpen', '50171', 67000],
  ['Kevelaer', '47623', 29000],
  ['Kirchheim unter Teck', '73230', 41000],
  ['Kitzingen', '97318', 22000],
  ['Kleve', '47533', 52000],
  ['Koblenz', '56068', 114000],
  ['Königs Wusterhausen', '15711', 38000],
  ['Königswinter', '53639', 42000],
  ['Konstanz', '78462', 85000],
  ['Korbach', '34497', 24000],
  ['Kornwestheim', '70806', 34000],
  ['Korschenbroich', '41352', 34000],
  ['Krefeld', '47798', 227000],
  ['Kreuztal', '57223', 31000],
  ['Kronach', '96317', 17000],
  ['Kulmbach', '95326', 26000],
  ['Laatzen', '30880', 42000],
  ['Lage', '32791', 36000],
  ['Lahr', '77933', 47000],
  ['Lampertheim', '68623', 33000],
  ['Landau', '76829', 47000],
  ['Landsberg am Lech', '86899', 30000],
  ['Landshut', '84028', 75000],
  ['Langen', '63225', 39000],
  ['Langenfeld', '40764', 59000],
  ['Langenhagen', '30851', 54000],
  ['Lauf', '91207', 27000],
  ['Leer', '26789', 35000],
  ['Leichlingen', '42799', 28000],
  ['Leimen', '69181', 27000],
  ['Leinefelde-Worbis', '37327', 19000],
  ['Leinfelden-Echterdingen', '70771', 41000],
  ['Lemgo', '32657', 41000],
  ['Lengerich', '49525', 23000],
  ['Lennestadt', '57368', 26000],
  ['Leonberg', '71229', 48000],
  ['Leverkusen', '51373', 165000],
  ['Lichtenfels', '96215', 20000],
  ['Limburg', '65549', 35000],
  ['Lindau', '88131', 26000],
  ['Lingen', '49808', 57000],
  ['Lippstadt', '59555', 72000],
  ['Löhne', '32584', 41000],
  ['Lörrach', '79539', 50000],
  ['Lohmar', '53797', 31000],
  ['Lohne', '49393', 31000],
  ['Lübeck', '23552', 220000],
  ['Lübbecke', '32312', 26000],
  ['Lüdenscheid', '58507', 73000],
  ['Lüdinghausen', '59348', 25000],
  ['Ludwigsburg', '71638', 94000],
  ['Ludwigshafen', '67059', 172000],
  ['Lüneburg', '21335', 78000],
  ['Lünen', '44532', 87000],
  ['Meerbusch', '40667', 56000],
  ['Meinerzhagen', '58540', 20000],
  ['Meiningen', '98617', 25000],
  ['Meißen', '01662', 28000],
  ['Melle', '49324', 47000],
  ['Memmingen', '87700', 44000],
  ['Menden', '58706', 53000],
  ['Meppen', '49716', 36000],
  ['Merzig', '66663', 30000],
  ['Meschede', '59872', 31000],
  ['Mettmann', '40822', 39000],
  ['Michelstadt', '64720', 17000],
  ['Miltenberg', '63897', 9000],
  ['Minden', '32423', 82000],
  ['Moers', '47441', 104000],
  ['Mölln', '23879', 19000],
  ['Monheim', '40789', 43000],
  ['Mönchengladbach', '41061', 260000],
  ['Moormerland', '26802', 24000],
  ['Mörfelden-Walldorf', '64546', 35000],
  ['Mosbach', '74821', 24000],
  ['Mühlacker', '75417', 26000],
  ['Mühlhausen', '99974', 35000],
  ['Mülheim', '45468', 170000],
  ['Munderkingen', '89597', 5000],
  ['Münster', '48143', 315000],
  ['Nagold', '72202', 23000],
  ['Naumburg', '06618', 33000],
  ['Neckarsulm', '74172', 27000],
  ['Nettetal', '41334', 43000],
  ['Neu-Isenburg', '63263', 38000],
  ['Neu-Ulm', '89231', 60000],
  ['Neubrandenburg', '17033', 63000],
  ['Neuburg', '86633', 30000],
  ['Neumarkt', '92318', 41000],
  ['Neumünster', '24534', 80000],
  ['Neunkirchen', '66538', 47000],
  ['Neuruppin', '16816', 31000],
  ['Neuss', '41460', 153000],
  ['Neustadt', '67433', 53000],
  ['Neuwied', '56564', 65000],
  ['Nidda', '63667', 18000],
  ['Nidderau', '61130', 21000],
  ['Nienburg', '31582', 32000],
  ['Norden', '26506', 25000],
  ['Nordenham', '26954', 26000],
  ['Norderstedt', '22846', 80000],
  ['Nordhausen', '99734', 42000],
  ['Nordhorn', '48529', 54000],
  ['Northeim', '37154', 29000],
  ['Nürtingen', '72622', 42000],
  ['Oberasbach', '90522', 18000],
  ['Oberhausen', '46045', 210000],
  ['Obertshausen', '63179', 25000],
  ['Oberursel', '61440', 48000],
  ['Ochtrup', '48607', 20000],
  ['Oelde', '59302', 30000],
  ['Oer-Erkenschwick', '45739', 32000],
  ['Offenbach', '63065', 130000],
  ['Offenburg', '77652', 63000],
  ['Olching', '82140', 29000],
  ['Oldenburg', '26122', 170000],
  ['Olpe', '57462', 25000],
  ['Oranienburg', '16515', 47000],
  ['Oschersleben', '39387', 19000],
  ['Osnabrück', '49074', 165000],
  ['Osterholz-Scharmbeck', '27711', 31000],
  ['Overath', '51491', 28000],
  ['Paderborn', '33098', 155000],
  ['Panketal', '16341', 21000],
  ['Papenburg', '26871', 38000],
  ['Passau', '94032', 53000],
  ['Peine', '31224', 51000],
  ['Penzberg', '82377', 17000],
  ['Petershagen', '32469', 26000],
  ['Pfaffenhofen', '85276', 27000],
  ['Pfarrkirchen', '84347', 13000],
  ['Pforzheim', '75172', 126000],
  ['Pinneberg', '25421', 44000],
  ['Pirmasens', '66953', 40000],
  ['Pirna', '01796', 39000],
  ['Plauen', '08523', 65000],
  ['Plettenberg', '58840', 26000],
  ['Porta Westfalica', '32457', 36000],
  ['Potsdam', '14467', 185000],
  ['Preetz', '24211', 16000],
  ['Prenzlau', '17291', 18000],
  ['Pulheim', '50259', 56000],
  ['Quedlinburg', '06484', 24000],
  ['Quickborn', '25451', 23000],
  ['Radeberg', '01454', 18000],
  ['Radebeul', '01445', 34000],
  ['Radevormwald', '42477', 22000],
  ['Rastatt', '76437', 50000],
  ['Rastede', '26180', 23000],
  ['Rathenow', '14712', 24000],
  ['Ratingen', '40878', 88000],
  ['Ravensburg', '88212', 51000],
  ['Recklinghausen', '45657', 115000],
  ['Rees', '46459', 22000],
  ['Reinbek', '21465', 28000],
  ['Remagen', '53424', 18000],
  ['Remscheid', '42853', 110000],
  ['Rendsburg', '24768', 29000],
  ['Reutlingen', '72764', 118000],
  ['Rheda-Wiedenbrück', '33378', 49000],
  ['Rheinbach', '53359', 28000],
  ['Rheinberg', '47495', 31000],
  ['Rheine', '48431', 77000],
  ['Rheinfelden', '79618', 34000],
  ['Riesa', '01589', 30000],
  ['Rietberg', '33397', 30000],
  ['Rinteln', '31737', 26000],
  ['Rodgau', '63110', 46000],
  ['Rosenheim', '83022', 64000],
  ['Rösrath', '51503', 29000],
  ['Rostock', '18055', 210000],
  ['Rotenburg', '27356', 22000],
  ['Roth', '91154', 25000],
  ['Rothenburg ob der Tauber', '91541', 11000],
  ['Rottenburg', '72108', 44000],
  ['Rottweil', '78628', 25000],
  ['Rudolstadt', '07407', 24000],
  ['Rüsselsheim', '65428', 65000],
  ['Saalfeld', '07318', 26000],
  ['Salzgitter', '38226', 105000],
  ['Salzwedel', '29410', 23000],
  ['Sangerhausen', '06526', 27000],
  ['Sankt Augustin', '53757', 56000],
  ['Sankt Ingbert', '66386', 36000],
  ['Sankt Wendel', '66606', 26000],
  ['Sassnitz', '18546', 9000],
  ['Schifferstadt', '67105', 21000],
  ['Schleswig', '24837', 24000],
  ['Schmallenberg', '57392', 25000],
  ['Schönebeck', '39218', 30000],
  ['Schortens', '26419', 21000],
  ['Schramberg', '78713', 21000],
  ['Schwabach', '91126', 41000],
  ['Schwäbisch Gmünd', '73525', 61000],
  ['Schwäbisch Hall', '74523', 42000],
  ['Schwalbach', '65824', 16000],
  ['Schwandorf', '92421', 29000],
  ['Schwarzenbek', '21493', 17000],
  ['Schwedt', '16303', 30000],
  ['Schweinfurt', '97421', 54000],
  ['Schwelm', '58332', 29000],
  ['Schwerin', '19053', 96000],
  ['Schwerte', '58239', 47000],
  ['Seelze', '30926', 35000],
  ['Seesen', '38723', 20000],
  ['Seevetal', '21217', 43000],
  ['Seligenstadt', '63500', 22000],
  ['Selm', '59379', 27000],
  ['Sendenhorst', '48324', 14000],
  ['Senftenberg', '01968', 24000],
  ['Siegburg', '53721', 43000],
  ['Siegen', '57072', 103000],
  ['Sindelfingen', '71063', 65000],
  ['Singen', '78224', 48000],
  ['Sinsheim', '74889', 36000],
  ['Soest', '59494', 48000],
  ['Solingen', '42651', 160000],
  ['Soltau', '29614', 22000],
  ['Sondershausen', '99706', 21000],
  ['Sonneberg', '96515', 23000],
  ['Sonthofen', '87527', 22000],
  ['Speyer', '67346', 51000],
  ['Springe', '31832', 29000],
  ['Sprockhövel', '45549', 25000],
  ['Stade', '21682', 48000],
  ['Stadtallendorf', '35260', 22000],
  ['Stadthagen', '31655', 23000],
  ['Stadtlohn', '48703', 21000],
  ['Starnberg', '82319', 24000],
  ['Staßfurt', '39418', 24000],
  ['Steinfurt', '48565', 34000],
  ['Stendal', '39576', 38000],
  ['Stolberg', '52222', 57000],
  ['Stralsund', '18435', 59000],
  ['Straubing', '94315', 48000],
  ['Stuhr', '28816', 34000],
  ['Sundern', '59846', 28000],
  ['Syke', '28857', 25000],
  ['Taunusstein', '65232', 31000],
  ['Teltow', '14513', 28000],
  ['Tönisvorst', '47918', 30000],
  ['Torgau', '04860', 20000],
  ['Traunreut', '83301', 21000],
  ['Traunstein', '83278', 22000],
  ['Trier', '54290', 111000],
  ['Troisdorf', '53840', 77000],
  ['Tübingen', '72070', 92000],
  ['Tuttlingen', '78532', 36000],
  ['Übach-Palenberg', '52531', 25000],
  ['Überlingen', '88662', 24000],
  ['Uelzen', '29525', 33000],
  ['Ulm', '89073', 127000],
  ['Unna', '59423', 59000],
  ['Uslar', '37170', 14000],
  ['Vaihingen', '71665', 30000],
  ['Vaterstetten', '85591', 25000],
  ['Vechta', '49377', 34000],
  ['Velbert', '42549', 81000],
  ['Verden', '27283', 28000],
  ['Verl', '33415', 27000],
  ['Versmold', '33775', 22000],
  ['Viernheim', '68519', 35000],
  ['Viersen', '41747', 78000],
  ['Villingen-Schwenningen', '78050', 85000],
  ['Visselhövede', '27374', 10000],
  ['Vlotho', '32602', 19000],
  ['Völklingen', '66333', 39000],
  ['Vreden', '48691', 23000],
  ['Wachtberg', '53343', 21000],
  ['Waghäusel', '68753', 22000],
  ['Waiblingen', '71332', 57000],
  ['Waldkirch', '79183', 22000],
  ['Waldkraiburg', '84478', 24000],
  ['Waldshut-Tiengen', '79761', 24000],
  ['Walsrode', '29664', 24000],
  ['Waltrop', '45731', 30000],
  ['Wandlitz', '16348', 24000],
  ['Waren', '17192', 21000],
  ['Warendorf', '48231', 38000],
  ['Warstein', '59581', 26000],
  ['Wedel', '22880', 34000],
  ['Wedemark', '30900', 30000],
  ['Wegberg', '41844', 29000],
  ['Weiden', '92637', 43000],
  ['Weil am Rhein', '79576', 31000],
  ['Weilheim', '82362', 23000],
  ['Weimar', '99423', 66000],
  ['Weingarten', '88250', 25000],
  ['Weinheim', '69469', 45000],
  ['Weinstadt', '71384', 27000],
  ['Weißenfels', '06667', 40000],
  ['Weißwasser', '02943', 16000],
  ['Weiterstadt', '64331', 26000],
  ['Werdau', '08412', 21000],
  ['Werder', '14542', 27000],
  ['Werl', '59457', 32000],
  ['Wermelskirchen', '42929', 36000],
  ['Werne', '59368', 30000],
  ['Wernigerode', '38855', 32000],
  ['Wertheim', '97877', 24000],
  ['Wesel', '46483', 61000],
  ['Wesseling', '50389', 36000],
  ['Westerstede', '26655', 24000],
  ['Wetter', '58300', 28000],
  ['Wetzlar', '35578', 54000],
  ['Wiehl', '51674', 26000],
  ['Wiesloch', '69168', 27000],
  ['Wildeshausen', '27793', 21000],
  ['Wilhelmshaven', '26382', 77000],
  ['Willich', '47877', 51000],
  ['Wilnsdorf', '57234', 21000],
  ['Winnenden', '71364', 29000],
  ['Winsen', '21423', 36000],
  ['Wismar', '23966', 44000],
  ['Witten', '58452', 97000],
  ['Wittenberg', '06886', 47000],
  ['Wittlich', '54516', 20000],
  ['Wittmund', '26409', 21000],
  ['Wolfenbüttel', '38300', 52000],
  ['Wolfsburg', '38440', 125000],
  ['Worms', '67547', 84000],
  ['Wunstorf', '31515', 42000],
  ['Wuppertal', '42103', 355000],
  ['Xanten', '46509', 22000],
  ['Zeitz', '06712', 28000],
  ['Zerbst', '39261', 22000],
  ['Zirndorf', '90513', 26000],
  ['Zittau', '02763', 25000],
  ['Zweibrücken', '66482', 34000],
  ['Zwickau', '08056', 88000],
]

// Erstelle Slug aus Stadtname
function createSlug(name: string): string {
  return name
    .toLowerCase()
    .replace(/\s+/g, '-')
    .replace(/ä/g, 'ae')
    .replace(/ö/g, 'oe')
    .replace(/ü/g, 'ue')
    .replace(/ß/g, 'ss')
    .replace(/[^a-z0-9-]/g, '')
}

// Bestimme Priority basierend auf Einwohnerzahl
function getPriority(population?: number): 1 | 2 | 3 {
  if (!population) return 3
  if (population >= 500000) return 1
  if (population >= 100000) return 2
  return 3
}

// Erstelle zusätzliche Städte aus Daten
function createAdditionalCities(): City[] {
  // Existierende Slugs sammeln um Duplikate zu vermeiden
  const existingSlugs = new Set(PREMIUM_CITIES.map((c) => c.slug))

  return ADDITIONAL_CITIES_DATA.filter(([name]) => !existingSlugs.has(createSlug(name))).map(
    ([name, plz, population]) => {
      const region = getBundeslandByPLZ(plz)
      return {
        slug: createSlug(name),
        name,
        plz,
        region,
        priority: getPriority(population),
        population,
      }
    }
  )
}

// Alle Städte zusammenführen
export const CITIES: City[] = [...PREMIUM_CITIES, ...createAdditionalCities()].sort((a, b) =>
  a.name.localeCompare(b.name, 'de')
)

// Anzahl der Städte
export const CITIES_COUNT = CITIES.length

/**
 * Get city by slug
 */
export function getCityBySlug(slug: string): City | undefined {
  return CITIES.find((city) => city.slug === slug)
}

/**
 * Get all city slugs for generateStaticParams
 */
export function getAllCitySlugs(): string[] {
  return CITIES.map((city) => city.slug)
}

/**
 * Get cities by priority
 */
export function getCitiesByPriority(priority: 1 | 2 | 3): City[] {
  return CITIES.filter((city) => city.priority === priority)
}

/**
 * Get cities by region (Bundesland)
 */
export function getCitiesByRegion(region: string): City[] {
  return CITIES.filter((city) => city.region === region)
}

/**
 * Get all unique regions (Bundesländer)
 */
export function getAllRegions(): string[] {
  const regions = new Set(CITIES.map((city) => city.region))
  return Array.from(regions).sort((a, b) => a.localeCompare(b, 'de'))
}

/**
 * Get cities grouped by region
 */
export function getCitiesGroupedByRegion(): Record<string, City[]> {
  return CITIES.reduce(
    (acc, city) => {
      if (!acc[city.region]) {
        acc[city.region] = []
      }
      acc[city.region].push(city)
      return acc
    },
    {} as Record<string, City[]>
  )
}

/**
 * Search cities by name or PLZ
 */
export function searchCities(query: string, limit = 8): City[] {
  if (!query || query.length < 2) return []

  const q = query.toLowerCase().trim()

  return CITIES.filter(
    (city) => city.name.toLowerCase().includes(q) || city.plz.startsWith(q)
  ).slice(0, limit)
}
